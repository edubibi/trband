<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE rESEARCH BAND - Player</title>
    <style>
        :root {
            --primary: #ffffff;
            --secondary: #a0a0a0;
            --accent: #00f2ff;
            /* Vibrant Cyan/Blue as requested */
            --bg-glass: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #1a1a2e;
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            overflow-x: hidden;
            flex-direction: column;
            /* For footer */
        }

        .bg-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* Main Container */
        .player-container {
            background: var(--bg-glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 20px;
            box-shadow: var(--shadow);
            width: 90%;
            max-width: 1000px;
            height: 80vh;
            display: flex;
            overflow: hidden;
            animation: fadeIn 1s ease;
            position: relative;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Left Side */
        .now-playing {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
        }

        /* Branding moved inside left column */
        .brand-header {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            /* Space between logo and art */
        }

        .brand-logo {
            height: 50px;
            margin-right: 12px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        .brand-title {
            font-size: 1.2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .album-art {
            width: 240px;
            height: 240px;
            border-radius: 15px;
            background: #000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-bottom: 25px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .album-art.playing {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.02);
            }

            100% {
                transform: scale(1);
            }
        }

        .track-info h2 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .track-info p {
            margin: 5px 0 20px;
            color: var(--secondary);
            font-size: 0.9rem;
        }

        .controls {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        audio {
            width: 100%;
            outline: none;
            margin-top: 10px;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.5rem;
            transition: color 0.2s;
        }

        .btn:hover {
            color: var(--accent);
        }

        .btn-main {
            font-size: 2.5rem;
        }

        /* Main Container - MODAL STYLE */
        .player-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            /* Above everything */

            background: rgba(0, 0, 0, 0.85);
            /* Darker backdrop for modal */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);

            width: 90%;
            max-width: 1000px;
            height: 80vh;

            display: none;
            /* Hidden by default */
            flex-direction: row;
            /* Side by side layout */
            overflow: hidden;
            animation: fadeInModal 0.5s ease;
        }

        .player-container.active {
            display: flex;
        }

        @keyframes fadeInModal {
            from {
                opacity: 0;
                transform: translate(-50%, -45%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        /* Close Button */
        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: var(--accent);
        }

        /* Playlist Panel - RESTORED */
        .playlist-panel {
            display: flex;
            /* Visible */
            flex-direction: column;
            width: 40%;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
        }

        .now-playing {
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
        }

        .playlist-header {
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 5px;
        }

        .tab {
            flex: 1;
            padding: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.05);
            color: var(--secondary);
            cursor: pointer;
            border-radius: 6px;
            font-weight: 600;
        }

        .tab.active {
            background: var(--accent);
            color: white;
        }

        .search-row {
            display: flex;
            gap: 10px;
        }

        #searchInput {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
        }

        .action-btn {
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .track-list {
            list-style: none;
            padding: 0;
            margin: 0;
            overflow-y: auto;
            flex: 1;
        }

        .track-item {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: background 0.2s;
        }

        .track-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .track-item.active {
            background: rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--accent);
        }

        .track-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex: 1;
        }

        /* Author Footer */
        .author-footer {
            margin-top: 15px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .add-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .player-container {
                flex-direction: column;
                height: 90vh;
                overflow-y: auto;
            }

            .brand-header {
                margin-bottom: 20px;
            }

            .now-playing {
                padding: 20px;
                min-height: auto;
            }

            .album-art {
                width: 180px;
                height: 180px;
                margin-bottom: 15px;
            }
        }

        /* Landing Page Styles */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 40px;
            box-sizing: border-box;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8), transparent);
            z-index: 100;
        }

        .header-logo {
            height: 50px;
            margin-right: 15px;
        }

        .header-title {
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .main-nav {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.9rem;
            transition: color 0.3s;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--accent);
        }

        .landing-content {
            position: relative;
            z-index: 1;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-top: 80px;
            /* Header space */
            text-align: center;
        }

        .hero-section {
            margin-bottom: 60px;
            animation: fadeIn 1.5s ease;
        }

        .main-title {
            font-size: 4rem;
            margin: 0;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            letter-spacing: 5px;
        }

        .slogan {
            font-size: 1.5rem;
            color: #fff;
            /* Improved contrast */
            font-weight: 300;
            margin-top: 10px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
            /* Strong shadow */
        }

        .slogan-outlined {
            font-weight: 700;
            -webkit-text-stroke: 1px black;
            text-stroke: 1px black;
            /* Standard property for future */
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
            /* Make sure text color is white so stroke is visible around it */
            color: white;
        }

        .highlight {
            color: var(--accent);
            font-weight: 600;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
        }

        .bio-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
            width: 90%;
            max-width: 1200px;
        }

        /* Founder Card */
        .bio-main-card {
            background: rgba(0, 0, 0, 0.6);
            /* Dark Glass */
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 30px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: left;
            margin-bottom: 40px;
            transition: transform 0.3s ease, background 0.3s;
        }

        .bio-main-card:hover {
            background: rgba(0, 0, 0, 0.7);
            transform: translateY(-5px);
        }

        .bio-main-img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--accent);
            /* Cyan for Founder */
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .bio-content h3 {
            font-size: 2rem;
            margin: 0;
            color: var(--accent);
            /* Cyan for visibility on dark */
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .role-highlight {
            color: var(--accent);
            /* Cyan for Founder */
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 5px 0 15px;
        }

        .bio-desc {
            font-size: 1rem;
            line-height: 1.6;
            color: #eee;
            /* Light text */
        }

        /* Collaborators */
        #collaborators {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            padding: 40px 20px;
        }

        .collaborators-container {
            width: 100%;
            max-width: 1200px;
            text-align: center;
        }

        .collab-title {
            text-transform: uppercase;
            letter-spacing: 3px;
            color: #fff;
            /* Keep title white on video */
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.8);
            margin-bottom: 30px;
            font-size: 1.5rem;
        }

        .collab-grid {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .bio-card.small {
            padding: 20px;
            padding-bottom: 35px;
            /* Extra padding bottom */
            min-width: 220px;
            max-width: 280px;
            background: rgba(0, 0, 0, 0.6);
            /* Dark Glass */
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, background 0.3s;
        }

        .bio-card.small:hover {
            transform: translateY(-5px);
            background: rgba(0, 0, 0, 0.7);
            border-color: var(--accent);
        }

        .bio-card.small h3 {
            font-size: 1.2rem;
            color: #fff;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.8);
            margin: 15px 0 5px;
        }

        .bio-card.small .role {
            font-size: 0.9rem;
            color: var(--secondary);
            /* Greyish */
            font-weight: 500;
            margin: 0;
        }

        .bio-card.small .bio-img {
            width: 100px;
            height: 100px;
            margin-bottom: 15px;
            border-radius: 50%;
            /* Ensure round if not already */
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            object-fit: cover;
        }

        /* Create visual separation/pages */
        .bio-section,
        .video-section,
        .gallery-section {
            min-height: 80vh;
            /* Make each section feel like a full screen */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            /* Moved up */
            padding-top: 140px;
            /* Fixed high position */
        }

        #collaborators {
            padding-top: 80px;
            margin-top: 0;
            justify-content: center;
            /* Collaborators can be centered or flex-start, user didn't complain about them */
        }

        .section-title {
            font-size: 3rem;
            margin-bottom: 40px;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            color: white;
            text-transform: uppercase;
            letter-spacing: 5px;
            text-align: center;
        }

        .gallery-section {
            width: 100%;
            max-width: 1400px;
            padding: 100px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .gallery-grid {
            column-count: 3;
            column-gap: 20px;
            width: 100%;
        }

        .gallery-item {
            margin-bottom: 20px;
            break-inside: avoid;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
        }

        .gallery-item img {
            width: 100%;
            display: block;
            transition: transform 0.5s;
        }

        .gallery-item:hover {
            transform: scale(1.02);
            z-index: 10;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .gallery-grid {
            column-count: 3;
            column-gap: 20px;
            width: 100%;
        }



        @media (max-width: 768px) {
            .gallery-grid {
                column-count: 2;
            }
        }

        @media (max-width: 480px) {
            .gallery-grid {
                column-count: 1;
            }
        }

        @media (max-width: 768px) {
            .bio-main-card {
                flex-direction: column;
                text-align: center;
            }

            .iliada-content {
                flex-direction: column !important;
            }

            .iliada-img-wrapper,
            .iliada-text-wrapper {
                width: 100%;
            }

            .main-title {
                font-size: 2.5rem;
            }

            .bio-section {
                flex-direction: column;
                align-items: center;
            }

            .main-header {
                padding: 15px 20px;
                flex-direction: column;
                gap: 10px;
                background: rgba(0, 0, 0, 0.9);
            }
        }

        /* Member Modal Styles */
        .member-content-wrapper {
            display: flex;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .member-left {
            width: 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
        }

        .member-modal-img {
            width: 100%;
            max-width: 300px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--accent);
        }

        .member-right {
            width: 60%;
            padding: 40px;
            display: flex;
            flex-direction: column;
            color: white;
            text-align: left;
        }

        .member-name {
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .member-role {
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 30px;
            font-weight: 300;
        }

        .member-scroll-area {
            overflow-y: auto;
            padding-right: 20px;
        }

        .info-block {
            margin-bottom: 30px;
        }

        .info-block h4 {
            font-size: 1.1rem;
            color: #fff;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .member-text {
            line-height: 1.6;
            color: #ddd;
            font-size: 0.95rem;
            white-space: pre-line;
            /* Allows newlines in text */
        }

        .member-list {
            list-style: none;
            padding: 0;
        }

        .member-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: #ddd;
        }


        /* ILIADA SPECIFIC STYLES (Moved from inline) */
        #iliada .bio-main-card {
            flex-direction: column;
            text-align: center;
            max-width: 1200px;
            background: transparent;
            border: none;
            box-shadow: none;
            backdrop-filter: none;
        }

        .iliada-content {
            display: flex;
            gap: 40px;
            align-items: stretch;
            text-align: left;
            margin-bottom: 50px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .iliada-img-wrapper {
            flex: 1 1 300px;
            min-width: 280px;
        }

        .iliada-img-wrapper img {
            width: 100%;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--accent);
            object-fit: cover;
        }

        .iliada-text-wrapper {
            flex: 1 1 300px;
            min-width: 280px;
            color: #ddd;
            background: rgba(0, 0, 0, 0.85);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            max-height: 600px;
            overflow-y: auto;
        }



        @media (max-width: 768px) {
            .member-content-wrapper {
                flex-direction: column;
                overflow-y: auto;
            }

            .main-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }

            .iliada-text-wrapper {
                /* Fix for cut off text on mobile: allow full height */
                max-height: none;
                overflow-y: visible;
                padding: 20px;
                /* Reduce padding on mobile */
            }

            .member-left,
            .member-right {
                width: 100%;
                padding: 20px;
            }

            .member-left {
                height: 300px;
                flex-shrink: 0;
            }

            .member-modal-img {
                max-height: 250px;
                width: auto;
            }
        }


        /* Custom Scrollbar for Text Box */
        .iliada-text-wrapper::-webkit-scrollbar {
            width: 8px;
        }

        .iliada-text-wrapper::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .iliada-text-wrapper::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }


        /* Video Grid Refinements */
        .video-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            width: 100%;
            margin-top: 30px;
        }

        .video-card {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 220px;
            /* Globally forced small size */
            flex: 0 0 auto;
        }

        .video-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        .video-card iframe {
            width: 100%;
            aspect-ratio: 16/9;
            border: none;
            display: block;
        }

        .video-title {
            padding: 15px;
            font-size: 0.9rem;
            color: #ccc;
            text-align: center;
            font-weight: 500;
        }

        /* CATEGORY NAVIGATION STYLES */
        .video-categories {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .category-card {
            width: 280px;
            height: 180px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .category-card:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent);
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }

        .category-card h3 {
            font-size: 1.4rem;
            color: #fff;
            z-index: 2;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
        }

        .category-bg-icon {
            position: absolute;
            font-size: 8rem;
            color: rgba(255, 255, 255, 0.03);
            z-index: 1;
        }

        /* Re-using player-container for Video Modals to maintain consistency */
        .video-modal-content {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            padding: 40px;
            overflow-y: auto;
            align-items: center;
        }

        .video-modal-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            width: 100%;
        }

        /* Override video-card size inside modal for better view */
        .video-modal-grid .video-card {
            max-width: 320px;
            /* Bigger size inside the modal as requested initially? Or keep small? User hated big. Let's keep 250-300 range */
            width: 100%;
        }

        /* MOBILE OPTIMIZATIONS */
        @media (max-width: 768px) {
            .main-header {
                padding: 10px 15px;
                /* Stack logo and menu vertically on mobile */
                flex-direction: column;
                background: rgba(0, 0, 0, 0.9);
                /* Solid bg for readability */
                position: relative;
                /* Unfix if needed, or keep fixed but allow scroll content */
            }

            .logo-area {
                margin-bottom: 15px;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
            }

            .header-title {
                font-size: 0.9rem;
            }

            .header-logo {
                height: 35px;
            }

            .main-nav {
                justify-content: center;
                gap: 15px;
                flex-wrap: wrap;
                width: 100%;
            }

            .nav-link {
                font-size: 0.8rem;
                padding: 5px 8px;
                background: rgba(255, 255, 255, 0.05);
                /* Tap targets */
                border-radius: 5px;
            }

            /* Iliada Text full height */
            .iliada-text-wrapper {
                max-height: none;
                overflow-y: visible;
                padding: 20px;
            }

            /* Video Grid Mobile adjustments */
            .video-grid {
                gap: 15px;
            }

            /* Make videos smaller on mobile too? No, mostly full width but small height. 
               BUT user specifically asked for "small boxes".
               Let's trust the strict width for small boxes. 
            */
            .video-card {
                width: 100%;
                max-width: 220px;
                /* Force small on mobile too */
            }

            .category-card {
                width: 100%;
                /* Full width cards on mobile */
                height: 120px;
            }
        }
    </style>
</head>

<body>
    <div class="bg-layer"><video id="bgVideo" autoplay muted loop playsinline
            style="width: 100%; height: 100%; object-fit: cover;">
            <!-- Source will be set by JS -->
        </video></div>
    <!-- LANDING PAGE CONTENT -->
    <header class="main-header">
        <div class="logo-area"><img src="logo_trb.png" alt="TRB Logo" class="header-logo"><span class="header-title">THE
                RESEARCH BAND</span></div>
        <nav class="main-nav"><a href="#" class="nav-link active">Inicio</a><a href="#biography"
                class="nav-link">Nosotros</a><a href="#collaborators" class="nav-link">Colaboradores</a><a
                href="#iliada" class="nav-link">Mi Iliada</a><a href="#gallery" class="nav-link">Galer√≠a</a><a href="#"
                class="nav-link" onclick="openPlayer(); return false;">M√∫sica</a><a href="#contact"
                class="nav-link">Contacto</a></nav>
    </header>
    <main class="landing-content">
        <!-- Hero Section -->
        <section class="hero-section">
            <h1 class="main-title">THE RESEARCH BAND</h1>
            <p class="slogan"><span class="slogan-outlined">...POSIBLEMENTE</span><br><span class="highlight">"El
                    poprock espa√±ol m√°s avanzado que hay"</span></p>
        </section>
        <!-- Bio Section (Founder) -->
        <section id="biography" class="bio-section">
            <div class="bio-main-card"><img src="assets/miembros/EDUARDO/01Edu Research Clip parque1 CUADRO.png"
                    alt="Eduardo" class="bio-main-img" onclick="openMember('eduardo')" style="cursor: pointer;">
                <div class="bio-content">
                    <h3>Eduardo Ram√≠rez</h3>
                    <p class="role-highlight">Fundador & Alma Mater</p>
                    <div class="bio-desc">El coraz√≥n de <strong>The Research Band</strong>. M√°s que un
                        grupo,
                        una ideolog√≠a art√≠stica y musical. Compositor,
                        arreglista,
                        cantante y productor. </div>
                </div>
            </div>
        </section>
        <!-- Collaborators Section -->
        <section id="collaborators" class="video-section">
            <!-- Using video-section class or similar to differentiate if needed, keeping bio-section
                                layout for now but separate -->
            <div class="collaborators-container">
                <div class="collab-grid">
                    <div class="bio-card small"><img src="assets/miembros/Jose de LUCAS/jose_new_photo.jpg" alt="Jose"
                            class="bio-img" onclick="openMember('jose')" style="cursor: pointer;">
                        <h3>Jose de Lucas</h3>
                        <p class="role">Guitarra y voz</p>
                    </div>
                    <div class="bio-card small"><img src="assets/miembros/RICARDO/ricardo_new_photo.jpg" alt="Ricardo"
                            class="bio-img" onclick="openMember('ricardo')" style="cursor: pointer;">
                        <h3>Ricardo Castro</h3>
                        <p class="role">Teclado y voz</p>
                    </div>
                    <div class="bio-card small"><img src="assets/javier(actual).jpg" alt="Javier" class="bio-img"
                            onclick="openMember('javier')" style="cursor: pointer;">
                        <h3>Javier de Juan Romeu</h3>
                        <p class="role">Bater√≠a y Compositor</p>
                        <p class="role" style="font-size: 0.8rem; color: var(--accent);">
                            Ex-Compa√±ero en CADILLAC</p>
                    </div>
                    <div class="bio-card small"><img src="assets/recovered_wix/images/image_02.png" alt="Lotfy"
                            class="bio-img" onclick="openMember('lotfy')" style="cursor: pointer;">
                        <h3>Lotfy B. Amor</h3>
                        <p class="role">Compositor y Cantante</p>
                    </div>
                    <div class="bio-card small"><img src="assets/miembros/JJ_ALMELA_profile.png" alt="JJ Almela"
                            class="bio-img" onclick="openMember('jjalmela')" style="cursor: pointer;">
                        <h3>JJ Almela</h3>
                        <p class="role">Piano y Producci√≥n</p>
                    </div>
                    <div class="bio-card small"><img src="assets/miembros/Luca/profile.jpg" alt="Luca" class="bio-img"
                            onclick="openMember('luca')" style="cursor: pointer;">
                        <h3>Luca Fiammetti</h3>
                        <p class="role" style="color: var(--accent); font-weight: bold;">Actual
                            Guitarra de TRBandmusic </p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Mi Iliada Section (History) -->
        <section id="iliada" class="bio-section">
            <h2 class="section-title">Mi Iliada</h2>
            <div class="bio-main-card">
                <!-- Intro Content: Image+Text -->
                <div class="iliada-content">
                    <div class="iliada-img-wrapper"><img src="assets/Logos Branding trband/Portada TRBAND para NEOX.png"
                            alt="Mi Iliada Portada"></div>
                    <div class="iliada-text-wrapper">
                        <h3
                            style="color: var(--accent); font-size: 1.8rem; margin-bottom: 20px; text-transform: uppercase;">
                            Qu√© es ‚ÄúMi Il√≠ada‚Äù</h3>
                        <p style="margin-bottom: 30px; line-height: 1.6;">Mi Il√≠ada es el relato
                            de mi recorrido vital y creativo contado como una √©pica √≠ntima. No
                            habla de h√©roes invencibles ni de victorias gloriosas,
                            sino de procesos,
                            ca√≠das,
                            aprendizajes y decisiones que han ido dando forma a mi mirada
                            art√≠stica. <br><br>Aqu√≠ conviven la vida personal y la trayectoria
                            creativa,
                            porque nunca han sido cosas distintas. </p>
                        <h3
                            style="color: var(--accent); font-size: 1.8rem; margin-bottom: 20px; text-transform: uppercase;">
                            Por qu√© llamarlo as√≠</h3>
                        <p style="margin-bottom: 20px; line-height: 1.6;">En La Il√≠ada,
                            la guerra no es el centro: lo es la ira,
                            la p√©rdida,
                            el honor y la fragilidad humana. Del mismo modo,
                            mi Il√≠ada no enumera logros,
                            sino que narra las tensiones,
                            los conflictos internos y los momentos clave que han construido mi
                            identidad art√≠stica. </p>
                        <blockquote
                            style="border-left: 3px solid var(--accent); padding-left: 20px; font-style: italic; color: #fff;">
                            Cada etapa es una batalla.<br>Cada obra,
                            una consecuencia. </blockquote>
                    </div>
                </div>
                <p class="role-highlight" style="font-size: 1.5rem; color: var(--accent); margin-bottom: 30px;">
                    Videoteca & Trayectoria</p>

                <!-- NEW CATEGORY NAVIGATION -->
                <div class="video-categories">
                    <div class="category-card" onclick="openVideoModal('cat-colab')">
                        <div class="category-bg-icon">ü§ù</div>
                        <h3>Colaboradores</h3>
                        <p style="color: #bbb; margin-top: 5px; font-size: 0.8rem;">JJ Almela & Friends</p>
                    </div>

                    <div class="category-card" onclick="openVideoModal('cat-cadillac')">
                        <div class="category-bg-icon">üé∏</div>
                        <h3>Historia de Cadillac</h3>
                        <p style="color: #bbb; margin-top: 5px; font-size: 0.8rem;">El Origen</p>
                    </div>

                    <div class="category-card" onclick="openVideoModal('cat-trband')">
                        <div class="category-bg-icon">üé¨</div>
                        <h3>Producciones TRBand</h3>
                        <p style="color: #bbb; margin-top: 5px; font-size: 0.8rem;">Videoclips & Promos</p>
                    </div>
                </div>

                <p style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 20px;">
                    (Haga clic en una categor√≠a para ver los v√≠deos)</p>
            </div>
        </section>
        <!-- Gallery Section -->
        <section id="gallery" class="gallery-section">
            <h2 class="section-title">Nuestra Galer√≠a</h2>
            <div class="gallery-grid">
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_03.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_04.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_05.png" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_07.png" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_08.jpg" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_09.png" loading="lazy"></div>
                <div class="gallery-item"><img src="assets/recovered_wix/images/image_11.png" loading="lazy"></div>
            </div>
        </section>
        <footer
            style="width: 100%; text-align: center; padding: 40px 0 20px; color: rgba(255,255,255,0.4); font-size: 0.9rem; margin-top: auto;">
            Eduardo Ramirez de Cartagena &copy;
            2026 </footer>
    </main>
    <!-- VIDEO CATEGORY MODALS -->
    <!-- 1. Collaborators -->
    <div class="player-container" id="cat-colab" style="display: none; z-index: 3000;">
        <button class="close-btn" onclick="closeVideoModal('cat-colab')">√ó</button>
        <div class="video-modal-content">
            <h2 style="color: var(--accent); margin-bottom: 30px; text-transform: uppercase;">Colaboradores</h2>
            <div class="video-modal-grid">
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/AdiuQFxy8AY" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">M√∫sica JJ Almela - Eduardo Ram√≠rez (1)</div>
                </div>
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/MIFyoXaUReo" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">M√∫sica JJ Almela - Eduardo Ram√≠rez (2)</div>
                </div>
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/2OLwmBi8PXE" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">M√∫sica JJ Almela - Eduardo Ram√≠rez (3)</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. Cadillac History -->
    <div class="player-container" id="cat-cadillac" style="display: none; z-index: 3000;">
        <button class="close-btn" onclick="closeVideoModal('cat-cadillac')">√ó</button>
        <div class="video-modal-content">
            <h2 style="color: var(--accent); margin-bottom: 30px; text-transform: uppercase;">Historia de Cadillac</h2>
            <div class="video-modal-grid">
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/-rHi7dmZOjk" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">Historia de Cadillac - Parte 1</div>
                </div>
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/N2JFenwTLA0" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">Historia de Cadillac - Parte 2</div>
                </div>
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/alaG1jLjJm4" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">Historia de Cadillac - Parte 3</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. TRBand Productions -->
    <div class="player-container" id="cat-trband" style="display: none; z-index: 3000;">
        <button class="close-btn" onclick="closeVideoModal('cat-trband')">√ó</button>
        <div class="video-modal-content">
            <h2 style="color: var(--accent); margin-bottom: 30px; text-transform: uppercase;">Producciones TRBandMusic
            </h2>
            <div class="video-modal-grid">
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/9zcAxkehCuk" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">Videoclip "El Boy" - TRBandMusic</div>
                </div>
                <div class="video-card">
                    <iframe src="https://www.youtube.com/embed/PYiLYz7gIjo" frameborder="0" allowfullscreen></iframe>
                    <div class="video-title">Promo Galer√≠a 3D - TRBandMusic</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openVideoModal(id) {
            document.getElementById(id).style.display = 'flex';
        }
        function closeVideoModal(id) {
            const modal = document.getElementById(id);
            const iframes = modal.querySelectorAll('iframe');
            iframes.forEach(iframe => {
                const src = iframe.src;
                iframe.src = src; // Reload to stop video
            });
            modal.style.display = 'none';
        }
    </script>

    <!-- Member Details Modal -->
    <div class="player-container" id="memberModal" style="display: none; z-index: 2001;"><button class="close-btn"
            onclick="closeMember()">√ó</button>
        <div class="member-content-wrapper">
            <div class="member-left"><img src="" id="modalImg" class="member-modal-img"></div>
            <div class="member-right">
                <h2 id="modalName" class="member-name">Nombre</h2>
                <p id="modalRole" class="member-role">Rol</p>
                <div class="member-scroll-area">
                    <div class="info-block">
                        <h4>Historia y Trayectoria / Curriculum</h4>
                        <p id="modalBio" class="member-text">...</p>
                    </div>
                    <div class="info-block">
                        <h4>Discograf√≠a Destacada</h4>
                        <ul id="modalDiscography" class="member-list">
                            <!-- List items -->
                        </ul>
                    </div>
                    <div class="info-block">
                        <h4>Videos / Trayectoria Art√≠stica Personal</h4>
                        <div id="modalVideos" class="member-text">
                            <!-- Helper Text or Video Links -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Music Player Modal -->
    <div class="player-container" id="musicModal"><button class="close-btn" onclick="closePlayer()">√ó</button>
        <div class="now-playing">
            <!-- Branding Inside -->
            <div class="brand-header"><img src="assets/Logos Branding trband/Logo research LUPA NEW trans.png"
                    class="brand-logo">
                <div class="brand-title">THE rESEARCH BAND</div>
            </div><img src="assets/portada_jazz.png" class="album-art" id="coverDisplay"
                onerror="this.src='https://via.placeholder.com/300/000000/FFFFFF?text=Music'">
            <div class="track-info">
                <h2 id="trackTitle">Selecciona una canci√≥n</h2>
                <p id="trackArtist">Mis Discos</p>
            </div>
            <div class="controls"><audio id="audioPlayer" controls></audio>
                <div class="buttons"><button class="btn" onclick="prevTrack()">‚èÆ</button><button class="btn btn-main"
                        onclick="togglePlay()">‚èØ</button><button class="btn" onclick="nextTrack()">‚è≠</button></div>
            </div>
        </div>
        <!-- PLAYLIST (Right Side) -->
        <div class="playlist-panel">
            <div class="playlist-header">
                <div class="tabs"><button class="tab active" onclick="switchTab('all')" id="tabAll">üìö
                        Biblioteca</button><button class="tab" onclick="switchTab('fav')" id="tabFav">‚≠ê
                        Mi Playlist <span id="favCount">(0)</span></button></div>
                <div class="search-row"><input type="text" id="searchInput" placeholder="üîç Buscar..."
                        onkeyup="filterPlaylist()"></div>
                <div class="search-row" id="importRow"><label for="fileInput" class="action-btn" title="A√±adir Local"
                        style="flex:1">üìÇ A√±adir</label><button class="action-btn" onclick="searchWeb()"
                        title="Buscar en Web" style="flex:1">üåê Web</button></div>
                <input type="file" id="fileInput" multiple accept="audio/*" style="display:none"
                    onchange="importFiles(this)">
            </div>
            <ul class="track-list" id="playlist"></ul>
        </div>
    </div>
    <script> // Member Data (Placeholders)

        const memberData = {
            'eduardo': {
                name: 'Eduardo Ram√≠rez',
                role: 'Fundador & Alma Mater',
                img: 'assets/miembros/EDUARDO/01Edu Research Clip parque1 CUADRO.png',
                bio: 'Larga trayectoria en el mundo de la m√∫sica...',
                discs: ['Disco Ejemplo 1 (A√±o)', 'Disco Ejemplo 2 (A√±o)', 'Colaboraci√≥n X'],
                videos: 'Pr√≥ximamente: Clips de actuaciones y videoclips...'
            }

            ,
            'jose': {
                name: 'Jose de Lucas',
                role: 'Guitarra y voz',
                img: 'assets/miembros/Jose de LUCAS/jose_new_photo.jpg',
                bio: `Cantante, compositor y arreglista. Guitarras el√©ctricas y ac√∫sticas.\n\nACTUALMENTE:\nCantante y guitarrista de acompa√±amiento en: Pistones, Cadillac, La D√©cada Prodigiosa, The Research Band y Estudio 80.\n\nFORMACIONES ANTERIORES:\nScooters, 40¬∫ Grados, Pistones, Antifaces, Dalt√≥nicos, Asunto Tornasol, La D√©cada Prodigiosa, Orquesta Xucar, Cadillac, Orquesta Templo, El Nombre de la Rosa, Estudio 80.\n\nCONCURSOS Y FESTIVALES:\n‚Ä¢ Ganador con Scooters del Primer Concurso de Pop Regional de Castilla ‚Äì La Mancha (1985).\n‚Ä¢ Finalista con 40¬∫ Grados del 2¬∫ Concurso de Pop Regional de Castilla ‚Äì La Mancha (1986).\n‚Ä¢ Clasificado en 3¬∫ lugar en el Concurso Nacional ‚ÄúNuevo Pop Espa√±ol‚Äù de Radio Cadena Espa√±ola (1986).\n‚Ä¢ Ganador con Asunto Tornasol del concurso Guadapop (1991).\n\nACTUACIONES CON:\nRadio Futura, Secretos, Nacha Pop, Alarma, Pistones, Elegantes, √ëu, Derribos Arias, Tam Tam Go, La Frontera, El Canto del Loco. En el Super 1 de la SER, en TV Regional de Castilla La Mancha, Salas Honky Tonk, Rockola, Universal, Ritmo & Comp√°s, etc.\n\nHOMENAJE A LOS 80¬¥s CON:\nAntonio Vega, Jose M¬™ Guzm√°n, Ambite, Javier Andreu, Eduardo Ramirez, Pedro Sanchez, Nacho Campillo.\n\nGRABACIONES DESTACADAS:\n‚Ä¢ Estudio Pent√°gono (Con Felix ‚ÄúPekenikes‚Äù 1985)\n‚Ä¢ Estudio Track (Con Manolo Garrido 1986)\n‚Ä¢ Estudio Sonotone (Con Jose M¬™ Sagrista 1987)\n‚Ä¢ Estudio Fairlight (Con Nacho Cano 1988)\n‚Ä¢ Estudio Reactor (Con Servando Carvallar 1991)\n‚Ä¢ Estudio Eurosonic (Con J. J. Almela 2001)\n‚Ä¢ Estudio Eurosonic (Con E. Ramirez 2002)\n\nFORMACI√ìN:\nTaller de Canciones y Autor (S.G.A.E.) con Inma Serrano y Mercedes Ferrer. Cursos de Sonido, Inform√°tica Musical (Logic/Protools) con Paco Trinidad y Martin Raskin.\n\nTEMAS PROPIOS:\nM√°s de 60 canciones con letra y m√∫sica propias.`,
                discs: ['Album Rock 1', 'Album Blues 2'],
                videos: 'Conciertos y directos...'
            }

            ,
            'ricardo': {
                name: 'Ricardo Castro',
                role: 'Teclado y voz',
                img: 'assets/miembros/RICARDO/ricardo_new_photo.jpg',
                bio: `Pianista, arreglista, compositor y productor.\n\nEmpieza a la edad de 6 a√±os a estudiar m√∫sica y a tocar el piano con el maestro D. Pedro Pablo Garc√≠a Breva. Posteriormente y hasta los 16 a√±os realiza estudios con m√©rito en los conservatorios oficiales de Zaragoza y Guadalajara con grandes maestros.\n\nGana el Mustifestival Internacional David en Barcelona durante 3 a√±os consecutivos donde participa en seminarios con maestros de la talla de Antoni Olaf Sabater, disc√≠pulo de Tete Montoliu y otras muchas figuras internacionales.\n\nA los 18 obtiene el segundo premio en el certamen ‚ÄúVilla de Madrid‚Äù y en el ‚ÄúGuadapop Memorial Juan Antonio D√≠az (Secretos)‚Äù junto a su formaci√≥n ‚ÄúSiquem‚Äù. Descubre el jazz y posteriormente sigue form√°ndose con los maestros Stanislav Borissof (Bulgaria) y Eduardo Pineda (Cuba).\n\nA lo largo de su carrera ha acompa√±ado a artistas de la talla de Antonio Vega, Betty Misiego, Javier Andreu (La Frontera), Cadillac, La Orquesta Mondrag√≥n, Jos√© Mar√≠a Guzm√°n (C.R.A.G), Franky Med, Jos√© Abascal, Lola M√©ndez, Ra√∫l Castro, Alicia Ruiz, Celia Gondev, Johnny Camarena, Jos√© de Lucas, Juan Muro‚Ä¶\n\nHa compartido escenario teloneando a David Bisbal, Rafael, Chenoa, David Bustamante, Isabel Pantoja, El D√∫o Din√°mico, Sergio Dalma, Paloma San Basilio, Pitingo, Mira Quien Baila entre otros.\n\nSus composiciones han quedado entre las 12 canciones m√°s votadas para representar a Eurovisi√≥n en dos ocasiones con excelentes cr√≠ticas en los medios nacionales. Pianista del Gran Casino de Madrid de Torrelodones durante 8 a√±os. Ha realizado trabajos de arreglos para la compa√±√≠a Sonogrand, G.I., Sunrise Records.`,
                discs: ['Jazz Fusion Vol.1', 'Pop Hits 80s'],
                videos: 'Sesiones de estudio...'
            }

            ,
            'javier': {
                name: 'Javier de Juan Romeu',
                role: 'Bater√≠a y Compositor',
                img: 'assets/javier(actual).jpg',
                bio: 'Ex-Bater√≠a de CADILLAC. Pionero de la bater√≠a electr√≥nica en Espa√±a...',
                discs: ['Cadillac - Pensando en ti', 'La D√©cada Prodigiosa', 'Proyectos en solitario'],
                videos: 'Videoclips de Cadillac y proyectos personales...'
            }

            ,
            'lotfy': {
                name: 'Lotfy B. Amor',
                role: 'Compositor y Cantante',
                img: 'assets/recovered_wix/images/image_02.png',
                bio: 'Compositor internacional con √©xitos en varios idiomas...',
                discs: ['Hit Single 1', 'Album Internacional'],
                videos: 'Actuaciones internacionales...'
            }

            ,
            'jjalmela': {
                name: 'JJ Almela',
                role: 'Piano, Producci√≥n y Arreglos',
                img: 'assets/miembros/JJ_ALMELA_profile.png',
                bio: `M√∫sico, compositor y arreglista con amplia trayectoria. Pianista de Jazz, Productor Musical y Director Art√≠stico para compa√±√≠as como SONY, EMI, RCA, FONOGRAM, COLUMBIA.<br><br> Ha compuesto para TV, Cine y Documentales.<br><br> <strong>Web Oficial:</strong> <a href="https://www.jjalmela.com" target="_blank" style="color: var(--accent); text-decoration: underline;" >www.jjalmela.com</a>`,
                discs: ['Productor en SONY/EMI/RCA', 'Compositor Cine/TV'],
                videos: 'Visita su web para ver su extensa obra.'
            }

            ,
            'luca': {
                name: 'Luca Fiammetti',
                role: 'Actual Guitarra de TRBandmusic',
                img: 'assets/miembros/Luca/profile.jpg',
                bio: `<strong>Nombre completo:</strong> Luca Alessandro Fiammetti<br> <strong>Edad:</strong> 36 a√±os<br> <strong>Origen:</strong> Nacido en G√©nova, Italia. Reside en Manilva, M√°laga.<br><br> <strong>Trayectoria Musical:</strong><br> Formado en el Conservatorio Paganini de G√©nova, especializado en jazz moderno. Ha tocado en festivales de jazz en Italia, Francia y Espa√±a.<br> En Manilva, lidera un tr√≠o llamado ‚ÄúMediterr√°neo Azul‚Äù, fusionando jazz con flamenco y bossa nova.<br><br> <strong>Filosof√≠a:</strong><br> Espiritual, introspectivo, amante del mar y la improvisaci√≥n. Cree que ‚Äúel jazz es conversaci√≥n sin palabras‚Äù. Da clases privadas en Manilva y colabora con artistas locales.`,
                discs: ['Mediterr√°neo Azul - Fusi√≥n', 'Colaboraciones Jazz Moderno'],
                videos: 'Actuaciones con Mediterr√°neo Azul y TRBand.'
            }
        }

            ;

        function openMember(id) {
            const data = memberData[id];
            if (!data) return;

            document.getElementById('modalImg').src = data.img;
            document.getElementById('modalName').textContent = data.name;
            document.getElementById('modalRole').textContent = data.role;
            document.getElementById('modalBio').innerHTML = data.bio; // Allow HTML for links

            const discList = document.getElementById('modalDiscography');
            discList.innerHTML = ''; // Clear prev

            data.discs.forEach(disc => {
                const li = document.createElement('li');
                li.textContent = disc;
                discList.appendChild(li);
            });

            // Populate Videos/Artistic Trajectory
            const videoContainer = document.getElementById('modalVideos');
            // If data.videos is just text for now:
            videoContainer.textContent = data.videos || 'Informaci√≥n disponible pr√≥ximamente.';

            document.getElementById('memberModal').style.display = 'flex';
        }

        function closeMember() {
            document.getElementById('memberModal').style.display = 'none';
        }

        // Existing Player Logic
        function openPlayer() {
            document.getElementById('musicModal').classList.add('active');
        }

        function closePlayer() {
            document.getElementById('musicModal').classList.remove('active');
        }

        let fullPlaylist = ["01Medianoche-en-la-Terraza.mp3",
            "All around if you want.mp3",
            "Black and grey .mp3",
            "Close yours feelings (Extend) .mp3",
            "Groove or not.mp3",
            "Heaven_s Glow.mp3",
            "Man island beach.mp3",
            "Meanwhile_I_Love_you_44.mp3",
            "Saxo by the clouds.mp3",
            "Saxophone Serenade.mp3",
            "Secret-of-Velvet.mp3",
            "Sharp-echoes.mp3",
            "Soft-corners.mp3",
            "Voices for dreams.mp3",
            "Woman on the island beach.mp3"].map(f => ({
                name: f.replace(/\.[^/.]+$/, "").replace(/_/g, " "),
                url: encodeURIComponent(f),
                original: f
            }));

        let myPlaylist = [];
        let currentMode = 'all';

        const audioPlayer = document.getElementById('audioPlayer');
        const playlistEl = document.getElementById('playlist');
        const trackTitle = document.getElementById('trackTitle');
        const coverDisplay = document.getElementById('coverDisplay');
        const searchInput = document.getElementById('searchInput');
        const favCount = document.getElementById('favCount');

        let currentIndex = -1;
        let activeQueue = [];

        function switchTab(mode) {
            currentMode = mode;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

            if (mode === 'all') {
                document.getElementById('tabAll').classList.add('active');
                document.getElementById('importRow').style.display = 'flex';
                document.getElementById('searchInput').placeholder = "üîç Buscar en biblioteca...";
            }

            else {
                document.getElementById('tabFav').classList.add('active');
                document.getElementById('importRow').style.display = 'none';
                document.getElementById('searchInput').placeholder = "üîç Buscar en mi playlist...";
            }

            renderPlaylist();
        }

        function addToFav(index) {
            const track = fullPlaylist[index];

            if (!myPlaylist.find(t => t.url === track.url)) {
                myPlaylist.push(track);
                updateFavCount();
                // alert("A√±adida a Playlist ‚≠ê");
            }
        }

        function removeFromFav(index) {
            myPlaylist.splice(index, 1);
            updateFavCount();
            if (currentMode === 'fav') renderPlaylist();
        }

        function updateFavCount() {
            favCount.innerText = `($ {
                    myPlaylist.length
                })`;
        }

        function renderPlaylist() {
            const query = searchInput.value.toLowerCase();
            const source = currentMode === 'all' ? fullPlaylist : myPlaylist;
            playlistEl.innerHTML = "";
            activeQueue = source;

            source.forEach((track, idx) => {
                if (query && !track.name.toLowerCase().includes(query)) return;

                const li = document.createElement('li');
                const isPlaying = (currentIndex === idx && source === activeQueue);
                li.className = 'track-item' + (isPlaying ? ' active' : '');

                let actionBtn = "";

                if (currentMode === 'all') {
                    actionBtn = `<button class="add-btn" onclick="event.stopPropagation(); addToFav(${idx})" title="A√±adir a Playlist" >+</button>`;
                }

                else {
                    actionBtn = `<button class="add-btn" onclick="event.stopPropagation(); removeFromFav(${idx})" title="Quitar" >x</button>`;
                }

                li.innerHTML = ` <span class="track-num" >$ {
                        idx + 1
                    }

                    </span> <span class="track-name" >$ {
                        track.name
                    }

                    </span> $ {
                        actionBtn
                    }

                    `;
                li.onclick = () => loadTrack(idx);
                playlistEl.appendChild(li);
            });

            if (activeQueue.length === 0 && currentMode === 'fav') {
                playlistEl.innerHTML = '<li style="padding:20px; text-align:center; color:#888">Tu playlist est√° vac√≠a.</li>';
            }
        }

        function loadTrack(index) {
            if (index < 0 || index >= activeQueue.length) return;
            currentIndex = index;
            const track = activeQueue[index];
            audioPlayer.src = track.url;
            audioPlayer.play();
            trackTitle.innerText = track.name;
            renderPlaylist();

            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({

                    title: track.name, artist: 'THE rESEARCH BAND',
                    artwork: [{
                        src: 'assets/portada_jazz.png', sizes: '512x512', type: 'image/png'
                    }

                    ]
                });
            }
        }

        function togglePlay() {
            if (audioPlayer.paused) audioPlayer.play();
            else audioPlayer.pause();
        }

        function nextTrack() {
            let next = currentIndex + 1;
            if (next >= activeQueue.length) next = 0;
            loadTrack(next);
        }

        function prevTrack() {
            let prev = currentIndex - 1;
            if (prev < 0) prev = activeQueue.length - 1;
            loadTrack(prev);
        }

        function filterPlaylist() {
            renderPlaylist();
        }

        function searchWeb() {
            const query = searchInput.value;
            if (!query) return alert("Escribe algo para buscar.");
            window.open('https://www.youtube.com/results?search_query=' + encodeURIComponent(query), '_blank');
        }

        function importFiles(input) {
            const files = input.files;
            if (!files.length) return;

            for (let i = 0; i < files.length; i++) {
                const file = files[i];

                fullPlaylist.push({
                    name: file.name.replace(/\.[^/.]+$/, "").replace(/_/g, " "),
                    url: URL.createObjectURL(file), original: file.name
                });
            }

            alert(`¬°$ {
                files.length
            }

            canciones a√±adidas !`);
            renderPlaylist();
        }

        audioPlayer.addEventListener('ended', nextTrack);
        audioPlayer.onplay = () => coverDisplay.classList.add('playing');
        audioPlayer.onpause = () => coverDisplay.classList.remove('playing');

        renderPlaylist();

        if (fullPlaylist.length > 0) {
            currentIndex = 0;
            activeQueue = fullPlaylist;
            trackTitle.innerText = fullPlaylist[0].name;
            audioPlayer.src = fullPlaylist[0].url;
            renderPlaylist();
        }

    </script>
    <script> // Random Background Video logic
        const videos = ["assets/video/background_compressed.mp4"
        ];
        const bgVideo = document.getElementById('bgVideo');
        const randomVideo = videos[Math.floor(Math.random() * videos.length)];
        bgVideo.src = randomVideo;
    </script>
</body>

</html>